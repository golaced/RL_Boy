
#include "stm32f4xx.h"
//1
#define SCL_H_VL53O1         ANO_GPIO_I2C_VL53OC1->BSRRL = I2C_Pin_SCL_VL53O1 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O1         ANO_GPIO_I2C_VL53OC1->BSRRH  = I2C_Pin_SCL_VL53O1 /* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O1         ANO_GPIO_I2C_VL53OD1->BSRRL = I2C_Pin_SDA_VL53O1 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O1         ANO_GPIO_I2C_VL53OD1->BSRRH  = I2C_Pin_SDA_VL53O1 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O1      ANO_GPIO_I2C_VL53OC1->IDR  & I2C_Pin_SCL_VL53O1 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O1      ANO_GPIO_I2C_VL53OD1->IDR  & I2C_Pin_SDA_VL53O1 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC1	GPIOA
#define ANO_GPIO_I2C_VL53OD1	GPIOC
#define I2C_Pin_SCL_VL53O1		GPIO_Pin_1
#define I2C_Pin_SDA_VL53O1		GPIO_Pin_0
#define ANO_RCC_I2C_VL53OC1	RCC_AHB1Periph_GPIOA
#define ANO_RCC_I2C_VL53OD1	RCC_AHB1Periph_GPIOC

//2
#define SCL_H_VL53O2         ANO_GPIO_I2C_VL53OC2->BSRRL = I2C_Pin_SCL_VL53O2 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O2         ANO_GPIO_I2C_VL53OC2->BSRRH  = I2C_Pin_SCL_VL53O2 /* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O2         ANO_GPIO_I2C_VL53OD2->BSRRL = I2C_Pin_SDA_VL53O2 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O2         ANO_GPIO_I2C_VL53OD2->BSRRH  = I2C_Pin_SDA_VL53O2 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O2      ANO_GPIO_I2C_VL53OC2->IDR  & I2C_Pin_SCL_VL53O2 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O2      ANO_GPIO_I2C_VL53OD2->IDR  & I2C_Pin_SDA_VL53O2 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC2	GPIOA
#define ANO_GPIO_I2C_VL53OD2	GPIOC
#define I2C_Pin_SCL_VL53O2		GPIO_Pin_4
#define I2C_Pin_SDA_VL53O2		GPIO_Pin_1
#define ANO_RCC_I2C_VL53OC2	RCC_AHB1Periph_GPIOA
#define ANO_RCC_I2C_VL53OD2	RCC_AHB1Periph_GPIOC

//3
#define SCL_H_VL53O3         ANO_GPIO_I2C_VL53OC3->BSRRL = I2C_Pin_SCL_VL53O3 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O3         ANO_GPIO_I2C_VL53OC3->BSRRH  = I2C_Pin_SCL_VL53O3 /* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O3         ANO_GPIO_I2C_VL53OD3->BSRRL = I2C_Pin_SDA_VL53O3 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O3         ANO_GPIO_I2C_VL53OD3->BSRRH  = I2C_Pin_SDA_VL53O3 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O3      ANO_GPIO_I2C_VL53OC3->IDR  & I2C_Pin_SCL_VL53O3 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O3      ANO_GPIO_I2C_VL53OD3->IDR  & I2C_Pin_SDA_VL53O3 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC3	GPIOA
#define ANO_GPIO_I2C_VL53OD3	GPIOC
#define I2C_Pin_SCL_VL53O3		GPIO_Pin_5
#define I2C_Pin_SDA_VL53O3		GPIO_Pin_9
#define ANO_RCC_I2C_VL53OC3	RCC_AHB1Periph_GPIOA
#define ANO_RCC_I2C_VL53OD3	RCC_AHB1Periph_GPIOC

//4--err
#define SCL_H_VL53O4         ANO_GPIO_I2C_VL53OC4->BSRRL = I2C_Pin_SCL_VL53O4 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O4         ANO_GPIO_I2C_VL53OC4->BSRRH  = I2C_Pin_SCL_VL53O4 /* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O4         ANO_GPIO_I2C_VL53OD4->BSRRL = I2C_Pin_SDA_VL53O4 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O4         ANO_GPIO_I2C_VL53OD4->BSRRH  = I2C_Pin_SDA_VL53O4 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O4      ANO_GPIO_I2C_VL53OC4->IDR  & I2C_Pin_SCL_VL53O4 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O4      ANO_GPIO_I2C_VL53OD4->IDR  & I2C_Pin_SDA_VL53O4 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC4	GPIOA
#define ANO_GPIO_I2C_VL53OD4	GPIOA
#define I2C_Pin_SCL_VL53O4		GPIO_Pin_6
#define I2C_Pin_SDA_VL53O4		GPIO_Pin_12
#define ANO_RCC_I2C_VL53OC4	RCC_AHB1Periph_GPIOA
#define ANO_RCC_I2C_VL53OD4	RCC_AHB1Periph_GPIOA

//5
#define SCL_H_VL53O5         ANO_GPIO_I2C_VL53OC5->BSRRL = I2C_Pin_SCL_VL53O5 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O5         ANO_GPIO_I2C_VL53OC5->BSRRH  = I2C_Pin_SCL_VL53O5 /* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O5         ANO_GPIO_I2C_VL53OD5->BSRRL = I2C_Pin_SDA_VL53O5 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O5         ANO_GPIO_I2C_VL53OD5->BSRRH  = I2C_Pin_SDA_VL53O5 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O5      ANO_GPIO_I2C_VL53OC5->IDR  & I2C_Pin_SCL_VL53O5 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O5      ANO_GPIO_I2C_VL53OD5->IDR  & I2C_Pin_SDA_VL53O5 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC5	GPIOB
#define ANO_GPIO_I2C_VL53OD5	GPIOB
#define I2C_Pin_SCL_VL53O5		GPIO_Pin_6
#define I2C_Pin_SDA_VL53O5		GPIO_Pin_7
#define ANO_RCC_I2C_VL53OC5	RCC_AHB1Periph_GPIOB
#define ANO_RCC_I2C_VL53OD5	RCC_AHB1Periph_GPIOB

//6
#define SCL_H_VL53O6         ANO_GPIO_I2C_VL53OC6->BSRRL = I2C_Pin_SCL_VL53O6 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O6         ANO_GPIO_I2C_VL53OC6->BSRRH  = I2C_Pin_SCL_VL53O6 /* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O6         ANO_GPIO_I2C_VL53OD6->BSRRL = I2C_Pin_SDA_VL53O6 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O6         ANO_GPIO_I2C_VL53OD6->BSRRH  = I2C_Pin_SDA_VL53O6 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O6      ANO_GPIO_I2C_VL53OC6->IDR  & I2C_Pin_SCL_VL53O6 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O6      ANO_GPIO_I2C_VL53OD6->IDR  & I2C_Pin_SDA_VL53O6 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC6	GPIOB
#define ANO_GPIO_I2C_VL53OD6	GPIOB
#define I2C_Pin_SCL_VL53O6		GPIO_Pin_0
#define I2C_Pin_SDA_VL53O6		GPIO_Pin_1
#define ANO_RCC_I2C_VL53OC6	RCC_AHB1Periph_GPIOB
#define ANO_RCC_I2C_VL53OD6	RCC_AHB1Periph_GPIOB

//7
#define SCL_H_VL53O7         ANO_GPIO_I2C_VL53OC7->BSRRL = I2C_Pin_SCL_VL53O7 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O7         ANO_GPIO_I2C_VL53OC7->BSRRH  = I2C_Pin_SCL_VL53O7 /* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O7         ANO_GPIO_I2C_VL53OD7->BSRRL = I2C_Pin_SDA_VL53O7 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O7         ANO_GPIO_I2C_VL53OD7->BSRRH  = I2C_Pin_SDA_VL53O7 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O7      ANO_GPIO_I2C_VL53OC7->IDR  & I2C_Pin_SCL_VL53O7 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O7      ANO_GPIO_I2C_VL53OD7->IDR  & I2C_Pin_SDA_VL53O7 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC7	GPIOB
#define ANO_GPIO_I2C_VL53OD7	GPIOB
#define I2C_Pin_SCL_VL53O7		GPIO_Pin_4
#define I2C_Pin_SDA_VL53O7		GPIO_Pin_5
#define ANO_RCC_I2C_VL53OC7	RCC_AHB1Periph_GPIOB
#define ANO_RCC_I2C_VL53OD7	RCC_AHB1Periph_GPIOB

//8
#define SCL_H_VL53O8         ANO_GPIO_I2C_VL53OC8->BSRRL = I2C_Pin_SCL_VL53O8 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O8         ANO_GPIO_I2C_VL53OC8->BSRRH  =I2C_Pin_SCL_VL53O8/* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O8         ANO_GPIO_I2C_VL53OD8->BSRRL = I2C_Pin_SDA_VL53O8 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O8         ANO_GPIO_I2C_VL53OD8->BSRRH  =I2C_Pin_SDA_VL53O8 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O8      ANO_GPIO_I2C_VL53OC8->IDR  &  I2C_Pin_SCL_VL53O8 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O8      ANO_GPIO_I2C_VL53OD8->IDR  &  I2C_Pin_SDA_VL53O8 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC8	GPIOC
#define ANO_GPIO_I2C_VL53OD8	GPIOC
#define I2C_Pin_SCL_VL53O8		GPIO_Pin_3
#define I2C_Pin_SDA_VL53O8		GPIO_Pin_2
#define ANO_RCC_I2C_VL53OC8	RCC_AHB1Periph_GPIOB
#define ANO_RCC_I2C_VL53OD8	RCC_AHB1Periph_GPIOB

//9
#define SCL_H_VL53O9         ANO_GPIO_I2C_VL53OC9->BSRRL = I2C_Pin_SCL_VL53O9 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O9         ANO_GPIO_I2C_VL53OC9->BSRRH  =I2C_Pin_SCL_VL53O9/* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O9         ANO_GPIO_I2C_VL53OD9->BSRRL = I2C_Pin_SDA_VL53O9 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O9         ANO_GPIO_I2C_VL53OD9->BSRRH  =I2C_Pin_SDA_VL53O9 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O9      ANO_GPIO_I2C_VL53OC9->IDR  &  I2C_Pin_SCL_VL53O9 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O9      ANO_GPIO_I2C_VL53OD9->IDR  &  I2C_Pin_SDA_VL53O9 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC9	GPIOA
#define ANO_GPIO_I2C_VL53OD9	GPIOA
#define I2C_Pin_SCL_VL53O9		GPIO_Pin_9
#define I2C_Pin_SDA_VL53O9		GPIO_Pin_10
#define ANO_RCC_I2C_VL53OC9	RCC_AHB1Periph_GPIOA
#define ANO_RCC_I2C_VL53OD9	RCC_AHB1Periph_GPIOA

//9
#define SCL_H_VL53O10         ANO_GPIO_I2C_VL53OC10->BSRRL = I2C_Pin_SCL_VL53O10 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O10         ANO_GPIO_I2C_VL53OC10->BSRRH  =I2C_Pin_SCL_VL53O10/* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O10         ANO_GPIO_I2C_VL53OD10->BSRRL = I2C_Pin_SDA_VL53O10 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O10         ANO_GPIO_I2C_VL53OD10->BSRRH  =I2C_Pin_SDA_VL53O10 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O10      ANO_GPIO_I2C_VL53OC10->IDR  &  I2C_Pin_SCL_VL53O10 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O10      ANO_GPIO_I2C_VL53OD10->IDR  &  I2C_Pin_SDA_VL53O10 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC10	GPIOB
#define ANO_GPIO_I2C_VL53OD10	GPIOB
#define I2C_Pin_SCL_VL53O10		GPIO_Pin_10
#define I2C_Pin_SDA_VL53O10		GPIO_Pin_11
#define ANO_RCC_I2C_VL53OC10	RCC_AHB1Periph_GPIOB
#define ANO_RCC_I2C_VL53OD10	RCC_AHB1Periph_GPIOB

//11
#define SCL_H_VL53O11         ANO_GPIO_I2C_VL53OC11->BSRRL = I2C_Pin_SCL_VL53O11 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O11         ANO_GPIO_I2C_VL53OC11->BSRRH  =I2C_Pin_SCL_VL53O11/* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O11         ANO_GPIO_I2C_VL53OD11->BSRRL = I2C_Pin_SDA_VL53O11 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O11         ANO_GPIO_I2C_VL53OD11->BSRRH  =I2C_Pin_SDA_VL53O11 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O11      ANO_GPIO_I2C_VL53OC11->IDR  &  I2C_Pin_SCL_VL53O11 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O11      ANO_GPIO_I2C_VL53OD11->IDR  &  I2C_Pin_SDA_VL53O11 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC11	GPIOC
#define ANO_GPIO_I2C_VL53OD11	GPIOD
#define I2C_Pin_SCL_VL53O11		GPIO_Pin_12
#define I2C_Pin_SDA_VL53O11		GPIO_Pin_2
#define ANO_RCC_I2C_VL53OC11	RCC_AHB1Periph_GPIOC
#define ANO_RCC_I2C_VL53OD11	RCC_AHB1Periph_GPIOD

//12
#define SCL_H_VL53O12         ANO_GPIO_I2C_VL53OC12->BSRRL = I2C_Pin_SCL_VL53O12 /* GPIO_SetBits(GPIOB , GPIO_Pin_10)   */
#define SCL_L_VL53O12         ANO_GPIO_I2C_VL53OC12->BSRRH  =I2C_Pin_SCL_VL53O12/* GPIO_ResetBits(GPIOB , GPIO_Pin_10) */

#define SDA_H_VL53O12         ANO_GPIO_I2C_VL53OD12->BSRRL = I2C_Pin_SDA_VL53O12 /* GPIO_SetBits(GPIOB , GPIO_Pin_11)   */
#define SDA_L_VL53O12         ANO_GPIO_I2C_VL53OD12->BSRRH  =I2C_Pin_SDA_VL53O12 /* GPIO_ResetBits(GPIOB , GPIO_Pin_11) */

#define SCL_read_VL53O12      ANO_GPIO_I2C_VL53OC12->IDR  &  I2C_Pin_SCL_VL53O12 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_10) */
#define SDA_read_VL53O12      ANO_GPIO_I2C_VL53OD12->IDR  &  I2C_Pin_SDA_VL53O12 /* GPIO_ReadInputDataBit(GPIOB , GPIO_Pin_11) */

#define ANO_GPIO_I2C_VL53OC12	GPIOC
#define ANO_GPIO_I2C_VL53OD12	GPIOC
#define I2C_Pin_SCL_VL53O12		GPIO_Pin_10
#define I2C_Pin_SDA_VL53O12		GPIO_Pin_11
#define ANO_RCC_I2C_VL53OC12	RCC_AHB1Periph_GPIOC
#define ANO_RCC_I2C_VL53OD12	RCC_AHB1Periph_GPIOC
/*********************************************/
extern volatile u8 I2C_FastMode_VL53;
void I2c_Soft_Init_VL53(void);
void I2c_Soft_SendByte_VL53(u8 SendByte,u8 sel);
u8 I2c_Soft_ReadByte_VL53(u8 ask,u8 sel8);
void Init_Ground_Key(void);
void Read_Ground_Key(float dt);
u8 IIC_Write_1Byte_VL53(u8 SlaveAddress,u8 REG_Address,u8 REG_data,u8 sel);
u8 IIC_Read_1Byte_VL53(u8 SlaveAddress,u8 REG_Address,u8 *REG_data,u8 sel);
u8 IIC_Write_nByte_VL53(u8 SlaveAddress, u8 REG_Address, u8 len, u8 *buf,u8 sel);
u8 IIC_Read_nByte_VL53(u8 SlaveAddress, u8 REG_Address, u8 len, u8 *buf,u8 sel);

#define VL53L0X_REG_IDENTIFICATION_MODEL_ID         0xc0
#define VL53L0X_REG_IDENTIFICATION_REVISION_ID      0xc2
#define VL53L0X_REG_PRE_RANGE_CONFIG_VCSEL_PERIOD   0x50
#define VL53L0X_REG_FINAL_RANGE_CONFIG_VCSEL_PERIOD 0x70
#define VL53L0X_REG_SYSRANGE_START                  0x00
#define VL53L0X_REG_RESULT_INTERRUPT_STATUS         0x13
#define VL53L0X_REG_RESULT_RANGE_STATUS             0x14
#define VL53L0X_Add 0x29


typedef struct 
{ 
uint16_t ambient;
uint16_t signal ;
uint16_t distance; 
uint16_t mode;
u8 connect;
}LS53;

extern LS53 ls53[12];

u8 READ_VL53(u8 sel);